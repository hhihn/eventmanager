<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets">
<ui:composition template="/templates/layout.xhtml">
    <ui:define name="content">
        <h:messages globalOnly="true" layout="list" styleClass="messages"/>

        <h:panelGroup rendered="#{not participantBean.admin}">
            <h1>Keine Berechtigung</h1>
            <p>Diese Seite ist nur für Administratoren sichtbar.</p>
            <h:link value="Zurück" outcome="/index.xhtml"/>
        </h:panelGroup>

        <h:panelGroup rendered="#{participantBean.admin}">
            <h1>Alle Benutzer</h1>

            <h:panelGroup rendered="#{empty participantBean.participants}">
                <p>Keine Benutzer registriert.</p>
            </h:panelGroup>

            <h:dataTable value="#{participantBean.participants}"
                         var="participant"
                         rendered="#{not empty participantBean.participants}"
                         styleClass="event-table">
                <h:column>
                    <f:facet name="header">Benutzername</f:facet>
                    #{participant.username}
                </h:column>
                <h:column>
                    <f:facet name="header">Vorname</f:facet>
                    #{participant.firstname}
                </h:column>
                <h:column>
                    <f:facet name="header">Name</f:facet>
                    #{participant.name}
                </h:column>
                <h:column>
                    <f:facet name="header">E-Mail</f:facet>
                    #{participant.email}
                </h:column>
                <h:column>
                    <f:facet name="header">Ort</f:facet>
                    #{participant.location}
                </h:column>
                <h:column>
                    <f:facet name="header">Rolle</f:facet>
                    #{participant.role}
                </h:column>
                <h:column>
                    <f:facet name="header">Status</f:facet>
                    #{participant.state}
                </h:column>
            </h:dataTable>

            <br/>
            <h:link value="Zurück" outcome="/index.xhtml"/>
        </h:panelGroup>
    </ui:define>
</ui:composition>
</html>